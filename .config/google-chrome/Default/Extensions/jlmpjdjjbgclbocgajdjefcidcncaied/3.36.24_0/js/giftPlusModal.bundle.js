(self.webpackChunkextension=self.webpackChunkextension||[]).push([[1212],{28812:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var l=n(30395),o=n.n(l),a=n(22155),r=n(96878),i=n(27504),u=n(36599),s=a.createElement;function c(e){var t=e.className,n=e.users,l=e.selected,a=e.onClick,c=e.checkIsDisabled,d=e.disabledTooltip;return null!=n&&n.length?s("ul",{className:o()("flex flex-col overflow-hidden rounded-16 border border-border-subtlest-secondary text-text-primary",t),role:"listbox"},n.map((function(e,t){return s(i.A,{key:e.username,condition:(null==c?void 0:c(e))&&!!d,wrapper:function(e){return s(u.S,{content:d},s("div",null,e))}},s(r.u,{user:e,className:{container:o()("cursor-pointer p-3",null!=c&&c(e)?"pointer-events-none opacity-64":"cursor-pointer",t===l&&"bg-theme-active")},imageSize:"large",tag:"li",onClick:function(){return a(e)},"aria-selected":t===l,role:"option",disableTooltip:!0,showDescription:!1}))}))):null}},46108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GiftPlusModal:()=>J,GiftPlusModalComponent:()=>$,default:()=>Q});var l=n(7527),o=n(89338),a=n(98093),r=n(75087),i=n(2827),u=n.n(i),s=n(22155),c=n(14243),d=n(30395),p=n.n(d),v=n(94198),m=n(67380),f=n(49577),y=n(83448),g=n(53823),b=n(5566),h=n(4979),C=n(20573),k=n(43660),x=n(9711),w=n(36899),P=n(99604),E=n(28812),T=n(6948),N=n(34229),S=s.createElement,_=function(e){return e.Success="bg-action-upvote-float",e.Help="bg-action-help-float",e}({});function O(e){var t=e.label,n=e.color,o=e.className,a=e.typographyProps,r=void 0===a?{}:a;return S(m.o5,(0,l.A)({tag:m.UL.Span,type:m.kR.Caption1},r,{className:p()("rounded-10 px-2 py-1",n,o),bold:!0}),t)}var I=n(33318),A=n(36504),D=n(95974),R=n(72870),M=n(41536),L=n(74502),F=n(38638),U=n(27504),j=n(63952),z=n(97838),q=n(23104),K=n(63423),V=n(71087),B=["date"],H=s.createElement;function G(e){var t=e.date,n=(0,r.A)(e,B);return H("div",n,"JoinedÂ ",H("time",{dateTime:t.toISOString()},(0,V.A)(t,"MMMM y")))}var X=n(54883),Y=["preselected","onSelected"],Z=s.createElement,W=(0,K.A)("span","flex flex-row items-center justify-center");function $(e){var t,n,i,d,h,S=e.preselected,K=e.onSelected,V=(0,r.A)(e,Y),B=(0,s.useState)(),H=B[0],$=B[1],J=V.onRequestClose,Q=(0,C.P)().giftOneYear,ee=(0,s.useState)(S),te=ee[0],ne=ee[1],le=(0,s.useState)(0),oe=le[0],ae=le[1],re=(0,s.useState)(""),ie=re[0],ue=re[1],se=(0,N.A)(ue,500),ce=(0,a.A)(se,1)[0],de=(0,c.I)({queryKey:["search","users",ie],queryFn:(h=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.e.request(P.EI,{query:ie});case 2:return t=e.sent,ae(0),e.abrupt("return",t.recommendedMentions);case 5:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),enabled:!(null==ie||!ie.length)}),pe=de.data,ve=!(null==pe||!pe.length||null==ie||!ie.length),me=(0,R.G6)(R.bh.Tablet);return Z(v.aF,(0,l.A)({},V,{isOpen:!0,kind:v.aF.Kind.FixedCenter,size:v.aF.Size.Small,overlayRef:$,isDrawerOnMobile:!0}),Z(v.aF.Body,{className:"gap-4 tablet:!p-4"},Z("div",{className:"flex flex-row justify-between"},Z(b.R,{type:m.kR.Callout,bold:!0}),Z(f.A,{type:"button",size:y.Mp.Small,onClick:J})),Z(m.o5,{bold:!0,type:m.kR.Title1,className:"text-center"},"Gift daily.dev Plus ðŸŽ"),Z("div",{className:"flex flex-col items-center gap-2"},Z(M._V,{src:null!==(t=null==te?void 0:te.image)&&void 0!==t?t:L.Tv.avatar,className:p()(F.UZ.xxxxlarge,"rounded-26")}),S&&Z(s.Fragment,null,Z(W,null,Z(m.o5,{bold:!0,type:m.kR.Title3},S.name),Z(q.E,{className:"ml-0.5 !typo-footnote",user:{reputation:S.reputation},iconProps:{size:z.lK.XSmall},disableTooltip:!0})),Z(W,null,Z(m.o5,{type:m.kR.Footnote,color:m.X8.Secondary},"@",S.username),Z(j.wv,null),Z(G,{className:"text-text-quaternary typo-caption2",date:new Date(S.createdAt)})))),Z(U.$,{condition:!S},te?Z(A.l,{user:te,onClose:function(){return ne(null)}}):Z("div",{className:"flex flex-col"},Z(T.BaseTooltip,{appendTo:me?H:null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body,onClickOutside:function(){return ue("")},visible:ve,showArrow:!1,interactive:!0,content:Z(E.E,{className:"w-[24rem]",users:pe,selected:oe,onClick:function(e){ne(e),ae(0),ue("")},checkIsDisabled:function(e){return e.isPlus},disabledTooltip:"This user already has daily.dev Plus"}),container:{className:"shadow",paddingClassName:"p-0",roundedClassName:"rounded-16",bgClassName:"bg-accent-pepper-subtlest"}},Z(k.A,{leftIcon:Z(x.n,null),inputId:"search_user",fieldType:"tertiary",autoComplete:"off",label:"Select a recipient by name or handle",onKeyDown:function(e){[I.tg.Up,I.tg.Down,I.Rc.Enter].includes(e.key)&&null!=pe&&pe.length&&(e.preventDefault(),e.key===I.tg.Down?ae((function(e){for(var t=e+1,n=0;null!==(l=pe[t%pe.length])&&void 0!==l&&l.isPlus;){var l;if(t+=1,(n+=1)>pe.length)return-1}return t%pe.length})):e.key===I.tg.Up?ae((function(e){for(var t=e-1,n=0;null!==(l=pe[(t+pe.length)%pe.length])&&void 0!==l&&l.isPlus;){var l;if(t-=1,(n+=1)>pe.length)return-1}return(t+pe.length)%pe.length})):ne(pe[oe]))},onChange:function(e){return ce(e.currentTarget.value.trim())},onFocus:function(e){return ue(e.currentTarget.value.trim())}})))),Z("div",{className:"flex w-full flex-row items-center gap-2 rounded-10 bg-surface-float p-2 py-3"},Z(m.o5,{bold:!0,type:m.kR.Callout},"One-year plan"),(null==Q?void 0:Q.extraLabel)&&Z(O,{color:_.Success,label:null==Q?void 0:Q.extraLabel,typographyProps:{color:m.X8.StatusSuccess}}),Z(m.o5,{type:m.kR.Body,className:"ml-auto mr-1"},Z("strong",{className:"mr-1"},null==Q||null===(i=Q.price)||void 0===i?void 0:i.formatted),null==Q?void 0:Q.currencyCode)),Z(m.o5,{type:m.kR.Callout},"Gift one year of daily.dev Plus for ",null==Q||null===(d=Q.price)||void 0===d?void 0:d.formatted,". Once the payment is processed, theyâ€™ll be notified of your gift. This is a one-time purchase, not a recurring subscription."),Z(D.A,{href:"".concat(X.yZ,"?gift=").concat(null==te?void 0:te.id),passHref:!0},Z(g.$n,{tag:"a",disabled:!te,variant:y.Ak.Primary,onClick:function(){return null==K?void 0:K(te)}},"Gift & Pay ",null==Q?void 0:Q.price.formatted))))}function J(e){return Z(h.P,null,Z($,e))}const Q=J},36504:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var l=n(22155),o=n(30395),a=n.n(o),r=n(38638),i=n(67380),u=n(49577),s=n(83448),c=l.createElement;function d(e){var t=e.user,n=e.onClose,l=e.className,o=t.username,d=t.name;return c("div",{className:a()("flex w-full max-w-full flex-row items-center gap-2 rounded-10 bg-surface-float p-2",l)},c(r.Y3,{user:t,size:r.Ov.Medium}),c("span",{className:"flex w-full flex-1 flex-row items-center gap-2 truncate"},c(i.o5,{bold:!0,type:i.kR.Callout},d),c(i.o5,{type:i.kR.Footnote,color:i.X8.Secondary},o)),c(u.A,{type:"button",onClick:n,size:s.Mp.XSmall}))}},5566:(e,t,n)=>{"use strict";n.d(t,{R:()=>d});var l=n(7527),o=n(22155),a=n(30395),r=n.n(a),i=n(67380),u=n(99193),s=n(97838),c=o.createElement;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className;return c(i.o5,(0,l.A)({tag:i.UL.Span,type:i.kR.Caption1,color:i.X8.Plus},e,{className:r()("flex flex-row items-center gap-0.5",t)}),c(u.d,{size:s.lK.XSmall})," Plus")}},96878:(e,t,n)=>{"use strict";n.d(t,{u:()=>w});var l=n(7527),o=n(75087),a=n(30395),r=n.n(a),i=n(22155),u=n(38638),s=n(16714),c=n(48831),d=n(23104),p=n(4177),v=n(81712),m=n(69321),f=n(96451),y=n(88663),g=n(48389),b=["imageSize","tag","user","className","disableTooltip","scrollingContainer","appendTooltipTo","children","afterContent","showDescription","transformUsername","showFollow","showSubscribe","copyType","origin","feedId"],h=i.createElement,C="py-3 px-6 hover:bg-surface-hover",k="flex-1",x=function(e,t){var n,a,i,x,w=e.imageSize,P=void 0===w?u.Ov.Large:w,E=e.tag,T=e.user,N=e.className,S=void 0===N?{}:N,_=e.disableTooltip,O=e.scrollingContainer,I=e.appendTooltipTo,A=e.children,D=e.afterContent,R=e.showDescription,M=void 0===R||R,L=e.transformUsername,F=e.showFollow,U=e.showSubscribe,j=e.copyType,z=e.origin,q=e.feedId,K=(0,o.A)(e,b),V=E||"a",B=T.name,H=T.username,G=T.bio,X=T.companies,Y=T.isPlus,Z=T.role,W={appendTo:I||(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body)||"parent",visible:!_&&void 0};return h(V,(0,l.A)({ref:t},K,{className:r()("flex flex-row",null!==(a=S.container)&&void 0!==a?a:C)}),h(c.H,{userId:null==T?void 0:T.id,tooltip:W,scrollingContainer:O},h(u.Y3,{user:T,size:P,nativeLazyLoading:!0})),h(c.H,{userId:null==T?void 0:T.id,tooltip:W,scrollingContainer:O},h("div",{className:r()("ml-4 flex max-w-full flex-col overflow-auto typo-callout",null!==(i=S.textWrapper)&&void 0!==i?i:k)},h("div",{className:"flex items-center gap-1"},h(s.mE,{className:"font-bold typo-callout",title:B},B),Y&&h(f.R,{user:{isPlus:Y},tooltip:!1}),h(s.mE,{className:"text-text-tertiary typo-footnote",title:"@".concat(H)},L?L(T):"@".concat(H))),h("div",{className:"flex gap-2"},h(d.E,{user:T}),(null==X?void 0:X.length)>0&&h(p.m,{user:{companies:X}}),(0,g.cb)(Z)&&h(y.A,{role:Z},(0,s.mA)(Z))),G&&M&&h("span",{className:"text-text-tertiary typo-footnote"},G))),A,!!F&&h(m.W,{showSubscribe:U,entityId:T.id,type:v.ZD.User,status:null===(x=T.contentPreference)||void 0===x?void 0:x.status,entityName:"@".concat(T.username),origin:z,copyType:j,feedId:q}),h("div",{className:"z-1"},D))},w=(0,i.forwardRef)(x)},20573:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,Q:()=>o});var l=n(22155),o=(0,l.createContext)(void 0),a=function(){var e=(0,l.useContext)(o);if(void 0===e)throw new Error("usePaymentContext must be used within a PaymentContextProvider");return e}},4979:(e,t,n)=>{"use strict";n.d(t,{P:()=>A});var l=n(22155),o=n(36797),a=n.n(o),r=n(68390),i=n(50122),u=n(89338),s=n(2827),c=n.n(s),d=n(24021),p=n(14243),v=n(9487),m=n(80244),f=n(54883),y=n(92315),g=n(55551),b=n(16354),h=n(81602),C=n(62424),k=n(20573),x=n(93961),w=(0,l.createContext)({trackSignup:function(){},trackPayment:function(){},trackEvent:function(){}}),P=n(57952);var E=function(e){var t=e.paddleCallback,n=e.disabledEvents,o=(0,l.useContext)(w).trackPayment,a=(0,l.useState)(),i=a[0],u=a[1],s=(0,y.L)().logSubscriptionEvent,c=(0,l.useRef)();return(0,l.useEffect)((function(){c.current=function(e,t,n,l){return function(o){var a,r,i,u,s,c;if(n(o),null==l||!l.includes(null==o?void 0:o.name))switch(null==o?void 0:o.name){case x.CheckoutEventNames.CHECKOUT_PAYMENT_INITIATED:e({event_name:P.VB.InitiatePayment,target_id:null==o||null===(a=o.data)||void 0===a?void 0:a.payment.method_details.type});break;case x.CheckoutEventNames.CHECKOUT_LOADED:e({event_name:P.VB.InitiateCheckout,target_id:null==o||null===(r=o.data)||void 0===r?void 0:r.payment.method_details.type});break;case x.CheckoutEventNames.CHECKOUT_PAYMENT_SELECTED:e({event_name:P.VB.SelectCheckoutPayment,target_id:null==o||null===(i=o.data)||void 0===i?void 0:i.payment.method_details.type});break;case x.CheckoutEventNames.CHECKOUT_COMPLETED:e({event_name:"gifter_id"in o.data.custom_data?P.VB.CompleteGiftCheckout:P.VB.CompleteCheckout,extra:{user_id:"gifter_id"in o.data.custom_data&&"user_id"in o.data.custom_data?o.data.custom_data.user_id:void 0,cycle:null!==(u=null==o||null===(s=o.data.items)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.billing_cycle)||void 0===s?void 0:s.interval)&&void 0!==u?u:"one-off",localCost:null==o?void 0:o.data.totals.total,localCurrency:null==o?void 0:o.data.currency_code,payment:null==o?void 0:o.data.payment.method_details.type}}),t(null==o?void 0:o.data.totals.total,null==o?void 0:o.data.currency_code,null==o||null===(c=o.data)||void 0===c?void 0:c.transaction_id);break;case"checkout.warning":e({event_name:P.VB.WarningCheckout});break;case x.CheckoutEventNames.CHECKOUT_ERROR:e({event_name:P.VB.ErrorCheckout})}}}(s,o,t,n)}),[s,o,t,n]),(0,l.useEffect)((function(){if(!(0,r.oX)()){var e=(0,x.getPaddleInstance)();e?u(e):(0,x.initializePaddle)({environment:"MISSING_ENV_VAR".NEXT_PUBLIC_PADDLE_ENVIRONMENT||"production",token:"topsecret",eventCallback:function(e){var t;null===(t=c.current)||void 0===t||t.call(c,e)}}).then((function(e){e&&u(e)}))}}),[o]),{paddle:i}},T=l.createElement;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.children,n=e.successCallback,o=(0,v.useRouter)(),a=(0,m.Z2)(),r=a.user,i=a.geo,s=a.isValidRegion,x=(0,C.iT)(g.N4.pricingIds),w=(0,y.L)().isPlus,P=(0,l.useCallback)((function(e){if((null==e?void 0:e.name)===d.CheckoutEventNames.CHECKOUT_COMPLETED)n?n():o.push(f.j$)}),[n,o]),N=E({paddleCallback:P}).paddle,_=(0,l.useCallback)((0,u.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==N?void 0:N.PricePreview({items:Object.keys(x).map((function(e){return{priceId:e,quantity:1}})),address:(null==i?void 0:i.region)&&{countryCode:i.region}}));case 1:case"end":return e.stop()}}),e)}))),[N,x,null==i?void 0:i.region]),O=(0,p.I)({queryKey:["productPrices",r,x],queryFn:_,enabled:!!(N&&x&&i&&r)}),I=O.data,A=O.isLoading,D=(0,l.useMemo)((function(){var e,t,n,l,o=new Intl.NumberFormat(null!==(e=null===globalThis||void 0===globalThis||null===(t=globalThis.navigator)||void 0===t?void 0:t.language)&&void 0!==e?e:"en-US",{minimumFractionDigits:2});return null!==(n=null==I||null===(l=I.data)||void 0===l||null===(l=l.details)||void 0===l||null===(l=l.lineItems)||void 0===l?void 0:l.map((function(e){var t,n,l,a,r,i=!(null!==(t=e.price)&&void 0!==t&&null!==(t=t.billingCycle)&&void 0!==t&&t.interval),u="year"===(null===(n=e.price)||void 0===n||null===(n=n.billingCycle)||void 0===n?void 0:n.interval),s=i||u?b.qf.Yearly:b.qf.Monthly,c=(0,h.y8)(e),d=s===b.qf.Yearly?12:1,p=Number((c/d).toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]),v=null==I?void 0:I.data.currencyCode,m=e.formattedTotals.total.replace(/\d|\.|\s|,/g,"");return{label:e.price.name,value:e.price.id,price:{amount:c,formatted:e.formattedTotals.total,monthlyAmount:p,monthlyFormatted:"".concat(m).concat(o.format(p))},currencyCode:v,currencySymbol:m,extraLabel:null===(l=e.price.customData)||void 0===l?void 0:l.label,appsId:null!==(a=null===(r=e.price.customData)||void 0===r?void 0:r.appsId)&&void 0!==a?a:b.lL.Default,duration:s,durationLabel:"month",trialPeriod:e.price.trialPeriod}})))&&void 0!==n?n:[]}),[null==I?void 0:I.data]),R=(0,l.useMemo)((function(){var e;return null===(e=D.find((function(e){return e.appsId===b.lL.EarlyAdopter})))||void 0===e?void 0:e.value}),[D]),M=(0,l.useMemo)((function(){return D.find((function(e){return e.appsId===b.lL.GiftOneYear}))}),[D]),L=(0,l.useMemo)((function(){return D.some((function(e){return!!e.trialPeriod}))}),[D]),F=(0,l.useCallback)((function(e){var t=e.priceId,n=e.giftToUserId;w&&t!==(null==M?void 0:M.value)||s&&(null==N||N.Checkout.open({items:[{priceId:t,quantity:1}],customer:S({email:null==r?void 0:r.email},(null==i?void 0:i.region)&&{address:{countryCode:null==i?void 0:i.region}}),customData:S({user_id:null!=n?n:null==r?void 0:r.id},!!n&&{gifter_id:null==r?void 0:r.id}),settings:{displayMode:"inline",variant:"one-page",frameTarget:"checkout-container",frameInitialHeight:500,frameStyle:"width: 100%; background-color: transparent; border: none;",theme:"dark"}}))}),[null==M?void 0:M.value,w,s,null==N?void 0:N.Checkout,null==r?void 0:r.email,null==r?void 0:r.id,null==i?void 0:i.region]),U=(0,l.useMemo)((function(){return{openCheckout:F,paddle:N,productOptions:D.filter((function(e){return e.value!==(null==M?void 0:M.value)})),earlyAdopterPlanId:R,isPlusAvailable:s,giftOneYear:M,isPricesPending:A,isFreeTrialExperiment:L}}),[M,R,F,N,D,s,A,L]);return T(k.Q.Provider,{value:U},t)},O=l.createElement,I=a()((function(){return n.e(4281).then(n.bind(n,74281)).then((function(e){return e.StoreKitSubProvider}))}),{loadableGenerated:{webpack:function(){return[74281]}}}),A=function(e){var t=e.children,n=e.successCallback;return(0,r.Ji)()?O(I,{successCallback:n},t):O(_,{successCallback:n},t)}},24021:()=>{},93961:()=>{}}]);